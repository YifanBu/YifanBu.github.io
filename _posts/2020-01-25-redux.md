---
title: "State Management: Redux"
date: 2020-01-25
tags: [Redux]
header:
image:
excerpt: "Framework, Web Development, Front-End"
toc: true
toc_label: "Table of Contents"
toc_sticky: true
toc_icon: "cog"
---

# Intro

Redux is a **state** management library which is in charge of handling data.

Redux helps us get a much more steady curve of complexity as our App starts to grow.

# Redux Cycle

- Insurance Company Analogy:

Person dropping off the form => the form(type + payload) -> form receiver -> Departments -> Compiled department data

- Redux Cycle:

Action Creator -> Action -> dispatch() -> Reducers -> State

## Creating Action Creators

Anytime we want to change the state or the data of our app we are going to call an action creator, which is going to produce an action object.

```javascript
const createPolicy = (name, amount) => {
  return {
    type: 'CREATE_POLICY',
    payload: {
      name: name,
      amount: amount
    }
  };
};

const deletePolicy = (name) => {
  return {
    type: 'DELETE_POLICY',
    payload: {
      name: name
    }
  };
};

const createClaim= (name, amountOfMoneyToCollect) => {
  return {
    type: 'CREATE_CLAIM',
    payload: {
      name: name,
      amount: amountOfMoneyToCollect
    }
  };
};
```

## Creating Reducers



```javascript
const claimsHistory = (oldListOfClaims, action) => {
  if (action.type === 'CREATE_CLAIM') {
    return [...oldListOfClaims, action.payload]
  }

  return oldListOfClaims;
};

const accounting = (bagOfMoney, action) => {
  if (action.type === 'CREATE_CLAIM') {
    return bagOfMoney - action.payload.amountOfMoneyToCollect; 
  } else if (action.type === 'CREATE_POLICY') {
    return bagOfMoney + action.payload.amount;
  }

  return bagOfMoney;
};

const policies = (listOfPolicies = [], action) => {
  if (action.type === 'CREATE_POLICY') {
    return [...listOfPolicies, action.payload.name];
  } else if (action.type === 'DELETE_POLICY') {
    return listOfPolicies.filter(name => name !== action.payload.name);
  }

  return listOfPolicies;
};
```

## Store

A **store** in Redux is essentially the assembly of a collection of different reducers and action creators.

We cannot get direct access to state property and modify it. We can only modify our state by dispatching an action created by an action creator.

```javascript
// pull off two specific functions from the Redux library
const { createStore, combineReducers } = Redux;

const ourDepartments = combineReducers({
  accounting: accounting,
  claimsHistory: claimHistory,
  policies: policies
});

const store = createStore(ourDepartments);

store.dispatch(createPolicy('Alex', 20));
store.dispatch(createPolicy('Jim', 30));
store.dispatch(createPolicy('Bob', 40));

store.dispatch(createClaim('Alex', 120));
store.dispatch(createClaim('Jim', 50));

store.dispatch(deletePolicy('Bob'));

console.log(store.getState());
```

# Integrating React with Redux

React -- React-Redux -- Redux 

*React-Redux* is a third library that makes sure react and redux can talk to each other.

```shell
npm install --save redux react-redux
```


<!--
# Async Actions with Redux Thunk



# Redux Store Design


# Redux Dev Tools


# Handling Forms with Redux Form


-->

